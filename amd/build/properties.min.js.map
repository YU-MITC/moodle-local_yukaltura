{"version":3,"sources":["../src/properties.js"],"names":["define","$","init","propertiesUrl","invalidName","emptySize","invalidCustomSize","invalidSize","modalX","modalY","timer","centeringModalSyncer","contentPanel","clearTimeout","setTimeout","css","w","window","width","h","height","cw","outerWidth","ch","outerHeight","checkNameString","str","regex","test","checkPlayerDimension","fadeInPropertiesWindow","url","blur","dElm","document","documentElement","dBody","body","scrollLeft","scrollTop","append","fadeIn","html","parent","resize","fadeOutPropertiesWindow","scrollTo","fadeOut","remove","handlePlayerDimensionChange","flag","widthStr","val","heightStr","widthInt","parseInt","heightInt","prop","opacity","handlePlayerSizeSelect","index","children","length","propertiesSubmitClick","trim","alert","value","dimension","text","dimensionArray","match","loadPropertiesParameter","uiconfid","i","j","indexOf","on","location","attr"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Media properties script for kaltura media embed.\n *\n * @package    local_yukaltura\n * @copyright  (C) 2016-2020 Yamaguchi University (gh-cc@mlex.cc.yamaguchi-u.ac.jp)\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * @module local_yukaltura/properties\n */\n\ndefine(['jquery'], function($) {\n\n    return {\n        /**\n         * Initial function.\n         * @access public\n         * @param {string} propertiesUrl - url of media properties page.\n         * @param {string} invalidName - message for invalid  page name.\n         * @param {string} emptySize - message printed when player size is empty.\n         * @param {string} invalidCustomSize - message for invalid player size.\n         * @param {string} invalidSize - message for invalid size.\n         */\n        init: function(propertiesUrl, invalidName, emptySize, invalidCustomSize, invalidSize) {\n\n            var modalX = 0;\n            var modalY = 0;\n            var timer = false;\n\n            /**\n             * This function centerize modal window.\n             * @access public\n             * @param {object} contentPanel - HTML element of content panel.\n             */\n            function centeringModalSyncer(contentPanel) {\n                if (timer !== false) {\n                    clearTimeout(timer);\n                }\n                timer = setTimeout(function() {\n                    $(contentPanel).css({\"width\": \"550px\", \"height\": \"400px\"});\n                    $(contentPanel).css({\"font-size\": \"14px\"});\n\n                    // Get width and height of window.\n                    var w = $(window).width();\n                    var h = $(window).height();\n\n                    // Get width and height of modal content.\n                    var cw = $(contentPanel).outerWidth();\n                    var ch = $(contentPanel).outerHeight();\n\n                    // Execute centering of modal window.\n                    $(contentPanel).css({\"left\": ((w - cw) / 2) + \"px\", \"top\": ((h - ch) / 2) + \"px\"});\n                }, 200);\n            }\n\n            /**\n             * This function checks letter of name.\n             * @access public\n             * @param {string} str - media title\n             * @return {bool} - if check is passed, return \"true\". Otherwise return \"false\".\n             */\n            function checkNameString(str) {\n                var regex = /[\"$%&'~^\\\\`/]/;\n                if (regex.test(str) === true) {\n                    return false;\n                }\n\n                return true;\n            }\n\n            /**\n             * This function checks player size.\n             * @access public\n             * @param {int} width - player width set by user.\n             * @param {int} height - player height set by user.\n             * @return {bool} - if palyer size is appropriate, return \"true\". Otherwise return \"false\".\n             */\n            function checkPlayerDimension(width, height) {\n                if (width < 200 || height < 200) {\n                    return false;\n                } else if (width > 1280 || height > 1280) {\n                    return false;\n                }\n\n                return true;\n            }\n\n            /**\n             * This function print modal window of player properties.\n             * @access public\n             * @param {string} url - URL of selector page.\n             * @return {bool} - if fade-in modal window, return true;\n             */\n            function fadeInPropertiesWindow(url) {\n                // Avoidance of duplicatable execute.\n                $(this).blur(); // Unfocous.\n                if ($(\"#modal_window\")[0]) {\n                    return false;\n                }\n\n                // Save scroll position of base window.\n                var dElm = document.documentElement;\n                var dBody = document.body;\n                modalX = dElm.scrollLeft || dBody.scrollLeft; // X value of current position.\n                modalY = dElm.scrollTop || dBody.scrollTop; // Y value of current position.\n                // Print overlay.\n                $(\"body\").append(\"<div id=\\\"media_properties_panel\\\"></div>\");\n                $(\"body\").append(\"<div id=\\\"modal_window\\\"></div>\");\n                $(\"#modal_window\").fadeIn(\"slow\");\n\n                // Cetering content.\n                centeringModalSyncer(\"#media_properties_panel\");\n\n                $(\"#media_properties_panel\").fadeIn(\"slow\");\n                $(\"#media_properties_panel\").html(\"<iframe src=\\\"\" + url + \"\\\" width=\\\"100%\\\" height=\\\"100%\\\">\");\n\n                // Centering content.\n                centeringModalSyncer(\"#media_properties_panel\");\n\n                $(parent.window).resize(function() {\n                    centeringModalSyncer(\"#media_properties_panel\");\n                });\n\n                return true;\n            }\n\n            /**\n             * This function deletes modal window of player properties.\n             * @access public\n             */\n            function fadeOutPropertiesWindow() {\n\n                // Restore scroll position of base window.\n                window.scrollTo(modalX, modalY);\n\n                // Fade-out and delete modal window of player properties.\n                $(\"#modal_window\", parent.document).fadeOut(\"slow\");\n                $(\"#modal_window\", parent.document).remove();\n                $(\"#media_properties_panel\", parent.document).fadeOut(\"slow\");\n                $(\"#media_properties_panel\", parent.document).remove();\n            }\n\n            /**\n             * This function is callback for player dimension.\n             * @access public\n             */\n            function handlePlayerDimensionChange() {\n                var flag = false;\n                var widthStr = $(\"#media_prop_width\").val();\n                var heightStr = $(\"#media_prop_height\").val();\n                var regex = /^\\d{2,4}$/;\n                if (regex.test(widthStr) === true && regex.test(heightStr) === true) {\n                    var widthInt = parseInt(widthStr);\n                    var heightInt = parseInt(heightStr);\n                    flag = checkPlayerDimension(widthInt, heightInt);\n                }\n\n                if (flag === true) {\n                    $(\"#submit_btn\").prop(\"disabled\", false);\n                    $(\"#submit_btn\").css({opacity: \"1.0\"});\n                } else {\n                    $(\"#submit_btn\").prop(\"disabled\", true);\n                    $(\"#submit_btn\").css({opacity: \"0.5\"});\n                }\n            }\n\n            /**\n             * This function is callback for player dimension.\n             * @access public\n             */\n            function handlePlayerSizeSelect() {\n                var index = $(\"#media_prop_size\").prop(\"selectedIndex\");\n                if (index == $(\"#media_prop_size\").children(\"option\").length - 1) {\n                    $(\"#media_prop_width\").prop(\"disabled\", false);\n                    $(\"#media_prop_height\").prop(\"disabled\", false);\n                    $(\"#submit_btn\").prop(\"disabled\", true);\n                    $(\"#submit_btn\").css({opacity: \"0.5\"});\n                } else {\n                    $(\"#media_prop_width\").val(\"\");\n                    $(\"#media_prop_height\").val(\"\");\n                    $(\"#media_prop_width\").prop(\"disabled\", true);\n                    $(\"#media_prop_height\").prop(\"disabled\", true);\n                    $(\"#submit_btn\").prop(\"disabled\", false);\n                    $(\"#submit_btn\").css({opacity: \"1.0\"});\n                }\n            }\n\n            /**\n             * This function is callback for OK button on player properties window.\n             * @access public\n             * @return {bool} - if fade-out modal window, return true.\n             */\n            function propertiesSubmitClick() {\n                var str = $(\"#media_prop_name\").val();\n\n                str = str.trim();\n\n                if (checkNameString(str) === false) {\n                    window.alert(invalidName);\n                    return false;\n                }\n\n                var index = $(\"#media_prop_size\").prop(\"selectedIndex\");\n\n                var width = \"\";\n                var height = \"\";\n\n                if (index == $(\"#media_prop_size\").children(\"option\").length - 1) {\n                    if ($(\"#media_prop_width\").value === \"\" ||\n                        $(\"#media_prop_height\").value === \"\") {\n                        window.alert(emptySize);\n                        return false;\n                    } else {\n                        width = $(\"#media_prop_width\").val();\n                        height = $(\"#media_prop_height\").val();\n                        width = width.trim();\n                        height = height.trim();\n                        var regex = /^\\d{2,4}$/;\n                        if (regex.test(width) === false || regex.test(height) === false) {\n                            window.alert(invalidCustomSize);\n                            return false;\n                        }\n                    }\n                } else {\n                    var dimension = $(\"#media_prop_size option:selected\").text();\n                    var dimensionArray = dimension.match(/\\d{2,4}/g);\n                    if (dimensionArray === null || dimensionArray.length != 2) {\n                        window.alert(invalidSize);\n                        return false;\n                    }\n                    width = dimensionArray[0];\n                    height = dimensionArray[1];\n                }\n\n                if (checkPlayerDimension(parseInt(width), parseInt(height)) === false) {\n                    window.alert(invalidSize);\n                    return false;\n                }\n\n                $(\"#width\", parent.document).val(width);\n                $(\"#height\", parent.document).val(height);\n                $(\"media_title\", parent.document).val(str);\n                $(\"#uiconf_id\", parent.document).val($(\"#media_prop_player\").val());\n\n                // Delete modal window of player propertieds.\n                fadeOutPropertiesWindow();\n\n                return true;\n            }\n\n            /**\n             * This function describe module parameters to mod_form.\n             * @access public\n             */\n            function loadPropertiesParameter() {\n                $(\"#media_prop_name\").val($(\"#media_title\", parent.document).val());\n                var uiconfid = $(\"#uiconf_id\", parent.document).val();\n                var flag = false;\n                for (var i = 0; i < $(\"#media_prop_player\").children(\"option\").length; i++) {\n                    if ($(\"#media_prop_player option:eq(\" + i + \")\").val() == uiconfid) {\n                        $(\"#media_prop_player\").prop(\"selectedIndex\", i);\n                        flag = true;\n                    }\n                }\n\n                if (flag === false) {\n                    $(\"#media_prop_player\").prop(\"selectedIndex\", 0);\n                }\n\n                var width = $(\"#width\", parent.document).val();\n                var height = $(\"#height\", parent.document).val();\n                var dimension = width + 'x' + height;\n                $(\"#media_prop_width\").prop(\"disabled\", false);\n                $(\"#media_prop_height\").prop(\"disabled\", false);\n                if (width !== \"\" && width != \"0\" && height !== \"\" && height != \"0\") {\n                    for (var j = 0; j < $(\"#media_prop_size\").children(\"option\").length; j++) {\n                        if ($(\"#media_prop_size option:eq(\" + j + \")\").text().indexOf(dimension) != -1) {\n                            $(\"#media_prop_size\").prop(\"selectedIndex\", j);\n                            $(\"#media_prop_width\").prop(\"disabled\", true);\n                            $(\"#media_prop_height\").prop(\"disabled\", true);\n                        }\n                    }\n\n                    if ($(\"#media_prop_width\").prop(\"disabled\") === false) {\n                        var index = $(\"#media_prop_size\").children(\"option\").length - 1;\n                        $(\"#media_prop_size\").prop(\"selectedIndex\", index);\n                        $(\"#media_prop_width\").val(width);\n                        $(\"#media_prop_height\").val(height);\n                    }\n                } else {\n                    $(\"#media_prop_width\").val(\"\");\n                    $(\"#media_prop_height\").val(\"\");\n                    $(\"#media_prop_size\").prop(\"selectedIndex\", 0);\n                }\n            }\n\n            $(\"#id_media_properties\").on(\"click\", function() {\n                fadeInPropertiesWindow(propertiesUrl);\n            });\n\n            $(\"#media_prop_size\").on(\"change\", function() {\n                handlePlayerSizeSelect();\n            });\n\n            $(\"#media_prop_width\").on(\"change\", function() {\n                handlePlayerDimensionChange();\n            });\n\n            $(\"#media_prop_height\").on(\"change\", function() {\n                handlePlayerDimensionChange();\n            });\n\n            $(\"#submit_btn\").on(\"click\", function() {\n                propertiesSubmitClick();\n            });\n\n            $(\"#cancel_btn\").on(\"click\", function() {\n                fadeOutPropertiesWindow();\n            });\n\n            if ($(location).attr(\"pathname\").indexOf(\"media_properties.php\") != -1) {\n                loadPropertiesParameter();\n            }\n        }\n    };\n});\n"],"file":"properties.min.js"}