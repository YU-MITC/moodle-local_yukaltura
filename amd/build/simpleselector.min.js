define ("local_yukaltura/simpleselector",["jquery"],function(a){return{init:function init(b,c){var l=0,m=0,n=!1;function d(){var b=a("#selectorSort").val();location.href=b}function f(b){var c=b.target.id,d=b.target.alt,e=b.target.src;e=e.replace(/width\/\d+/g,"width/150");e=e.replace(/height\/\d+/g,"height/100");a("#select_id").val(c);a("#select_name").html(d);a("#select_thumbnail").val(e);a("#submit_btn").prop("disabled",!1);a("#submit_btn").css({opacity:"1.0"})}function g(b){if(!1!==n){clearTimeout(n)}n=setTimeout(function(){var c=a(window).width(),d=a(window).height(),e=a(b).outerWidth(),f=a(b).outerHeight();a(b).css({left:(c-e)/2+"px",top:(d-f)/2+"px"})},200)}function h(b){a(this).blur();if(a("#modal_window")[0]){return!1}var c=document.documentElement,d=document.body;l=c.scrollLeft||d.scrollLeft;m=c.scrollTop||d.scrollTop;a("body").append("<div id=\"selector_content\"></div>");a("body").append("<div id=\"modal_window\"></div>");a("#modal_window").fadeIn("slow");g("#selector_content");a("#selector_content").fadeIn("slow");a("#selector_content").html("<iframe src=\""+b+"\" width=\"100%\" height=\"100%\">");g("#selector_content");a(parent.window).resize(function(){g("#selector_content")});return!0}function i(){window.scrollTo(l,m);a("#modal_window",parent.document).fadeOut("slow");a("#modal_window",parent.document).remove();a("#selector_content",parent.document).fadeOut("slow");a("#selector_content",parent.document).remove()}function j(){var b=a("#select_id").val(),c=a("#select_name").html(),d=a("#select_thumbnail").val();if(null!==b&&""!==b){if(null!==a("#entry_id")){a("#entry_id",parent.document).val(a("#select_id").val())}var e=a("#id_name",parent.document);if(null!==e){e.val(a("#select_name").html())}var f="",g=a("#description_"+b);if(null!==g){f=g.html();f=f.replace(/\n/g,"<br />")}f="<p>"+f+"<br /></p>";var h=a("#id_introeditoreditable",parent.document);if(null!==h){if(null!==f&&""!==f){h.html(f)}else{h.html("")}}h=a("#id_introeditor",parent.document);if(null!==h){if(null!==f&&""!==f){h.html(f)}else{h.html("")}}if(null!==a("#media_thumbnail",parent.document)){a("#media_thumbnail",parent.document).prop("src",d);a("#media_thumbnail",parent.document).prop("alt",c);a("#media_thumbnail",parent.document).prop("title",c)}var j=a("#id_media_properties",parent.document);if(null!==j){j.css({visibility:"visible"})}var k=a("#submit_media",parent.document);if(null!==k){k.prop("disabled",!1)}i()}}function k(b){a("#id_add_media",parent.document).val(b)}a("#selectorSort").on("change",function(){d()});a("#id_add_media").on("click",function(){h(b)});a("#submit_btn").on("click",function(){j()});a("#cancel_btn").on("click",function(){i()});a("#fadeout").on("click",function(){i()});if(-1!=a(location).attr("pathname").indexOf("simple_selector.php")){a(".media_thumbnail").on("click",function(a){f(a)})}else{a("#media_thumbnail").on("change",function(){k(c)})}}}});
//# sourceMappingURL=simpleselector.min.js.map
